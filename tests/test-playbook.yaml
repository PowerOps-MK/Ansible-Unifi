---
- name: Test custom module
  hosts: localhost
  tasks:
  - name: Run the custom module present
    unifi.network.port_group:
      state: present
      name: "API-PortGroup"
      type: "port-group"
      members: 
        - 8443
        - 8080
  - name: Run the custom module present 2
    unifi.network.port_group:
      state: present
      name: "Test-PortGroup"
      type: "port-group"
      members: 
        - 8888
    register: testout
  - name: Run the custom module absent
    unifi.network.port_group:
      state: absent
      name: "Delete-PortGroup"
  - name: Run the custom module absent 2
    unifi.network.port_group:
      state: absent
      name: "API-PortGroup"
  - name: dump test output
    debug:
      msg: "{{ testout }}"
